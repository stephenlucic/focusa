/* Dashboard Focusa (unificado) */

/* Paleta base (ajusta si ya están en :root global) */
:root {
  --focusa-bg: #ffffff;
  --focusa-border: #E5E7EB;
  --focusa-shadow-sm: 0 2px 6px rgba(15,23,42,.06);
  --focusa-shadow-lg: 0 8px 24px rgba(15,23,42,.08);
  --focusa-shadow-hover: 0 12px 32px rgba(15,23,42,.10);
  --focusa-dark: #303570;
  --focusa-dark-alt: #3B4178;
  --focusa-gray: #6B7280;
  --focusa-gray-light: #F3F4F6;
  --focusa-gray-xlight: #F9FAFB;
  --focusa-gradient: linear-gradient(90deg,#303570,#4F46E5);
}

/* Cards genéricas */
.card {
  background: var(--focusa-bg);
  border: 1px solid var(--focusa-border);
  border-radius: 18px;
  box-shadow: var(--focusa-shadow-lg);
  overflow: hidden;
}

.card-header {
  background: var(--focusa-gray-xlight);
  border-bottom: 1px solid var(--focusa-border);
  font: 600 14px "Open Sans",sans-serif;
  color: var(--focusa-dark);
}

/* Métricas superiores */
.metric-row { margin-bottom: 32px; }

.metric-card {
  background: var(--focusa-bg);
  border: 1px solid var(--focusa-border);
  border-radius: 24px;
  box-shadow: var(--focusa-shadow-lg);
  width: 100%;
  height: 150px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-family: "Open Sans",sans-serif;
  transition: transform .15s ease, box-shadow .15s ease;
}
.metric-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--focusa-shadow-hover);
}
.metric-value {
  font-size: 40px;
  font-weight: 700;
  color: var(--focusa-dark);
  line-height: 1;
  margin-bottom: 8px;
  letter-spacing: .5px;
}
.metric-label {
  font-size: 16px;
  font-weight: 500;
  color: var(--focusa-gray);
}
.metric-spark { margin-top: .5rem; }
.metric-card .apexcharts-canvas { position: static !important; }

/* Tabla de tareas */
.task-table thead th {
  font: 600 12px "Open Sans",sans-serif;
  text-transform: uppercase;
  letter-spacing: .5px;
  background: var(--focusa-gray-light);
  border-bottom: 1px solid var(--focusa-border);
  color: var(--focusa-gray);
}
.task-table tbody td {
  font-size: 14px;
  border-color: var(--focusa-gray-light);
  font-family: "Open Sans",sans-serif;
}

/* Progreso fino */
.progress-thin {
  height: 6px;
  background: var(--focusa-border);
  border-radius: 999px;
  margin-bottom: 4px;
  overflow: hidden;
}
.progress-thin .progress-bar {
  background: var(--focusa-gradient);
  height: 100%;
  border-radius: 999px;
}

/* Badges estados */
.badge {
  font-size: .70rem;
  padding: .30rem .55rem;
  border-radius: 999px;
  font-weight: 600;
  letter-spacing: .3px;
  font-family: "Open Sans",sans-serif;
  display: inline-block;
}

/*Tabla de tareas especifica*/

.task-card { position: relative; }

.task-table thead th {
  position: sticky;
  top: 0;
  background: var(--focusa-gray-light);
  z-index: 2;
}

.task-table tbody tr.overdue td {
  background: #fff5f5;
}

.task-table tbody tr.overdue .badge.state-por-hacer,
.task-table tbody tr.overdue .badge.state-en-proceso {
  box-shadow: 0 0 0 2px #d9364f33;
}

.task-title { font-weight: 600; }
.task-title .small { font-weight: 400; }

.date-cell span {
  display: block;
  font-family: "Roboto Mono", monospace;
  letter-spacing: .5px;
}
.date-cell small {
  display: block;
  margin-top: 2px;
}

.progress-thin { position: relative; }
.progress-thin .progress-bar {
  transition: width .4s ease;
}

.badge.state-por-hacer {
  background: #fff;
  color: var(--focusa-dark-alt);
  border: 1px solid var(--focusa-dark-alt);
}
.badge.state-en-proceso { background: var(--focusa-dark-alt); color: #fff; }
.badge.state-en-revision { background: var(--focusa-dark); color: #fff; }
.badge.state-completo { background: #34a853; color: #fff; }

/* Badges prioridad */
.badge.priority-alta { background: #d9364f; color:#fff; }
.badge.priority-media { background: #ffb347; color:#fff; }
.badge.priority-baja { background: #8ab4f8; color:#fff; }

.focusa-locked {
  min-height: 260px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: #6c757d;
  padding: 1.5rem;
  background: repeating-linear-gradient(
    -45deg,
    rgba(0, 0, 0, 0.02),
    rgba(0, 0, 0, 0.02) 10px,
    rgba(0, 0, 0, 0.04) 10px,
    rgba(0, 0, 0, 0.04) 20px
  );
  border-radius: 0.5rem;
}

.focusa-locked .lock-icon {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  color: #adb5bd;
}

.focusa-locked .btn {
  margin-top: 0.5rem;
}

.card-locked {
  opacity: 0.9;
}

.export-locked-wrapper {
  opacity: 0.85;
}

.export-locked {
  cursor: not-allowed;
  border-style: dashed;
}

.export-locked i.bi-lock-fill {
  font-size: 0.9rem;
}
